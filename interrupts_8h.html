<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libnds: interrupts.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libnds
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_eef24e62abe235ff08d6c310d2f6b3f3.html">nds</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">interrupts.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>nds interrupt support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="ndstypes_8h.html">nds/ndstypes.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab2d17ce773b979ee5d727beb7410a649"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#ab2d17ce773b979ee5d727beb7410a649">IRQ_TIMER</a>(n)&#160;&#160;&#160;(1 &lt;&lt; ((n) + 3))</td></tr>
<tr class="memdesc:ab2d17ce773b979ee5d727beb7410a649"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the mask for a given timer.  <a href="#ab2d17ce773b979ee5d727beb7410a649">More...</a><br /></td></tr>
<tr class="separator:ab2d17ce773b979ee5d727beb7410a649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9affc80dd8947cc1dcb1ae52801923c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9affc80dd8947cc1dcb1ae52801923c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a9affc80dd8947cc1dcb1ae52801923c8">MAX_INTERRUPTS</a>&#160;&#160;&#160;25</td></tr>
<tr class="memdesc:a9affc80dd8947cc1dcb1ae52801923c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of interrupts. <br /></td></tr>
<tr class="separator:a9affc80dd8947cc1dcb1ae52801923c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a450d6e80fa90a8cb2ee169283a5602"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a5a450d6e80fa90a8cb2ee169283a5602">REG_IE</a>&#160;&#160;&#160;(*(<a class="el" href="ndstypes_8h.html#a96af5eb8fa163916779f30ebbc2102da">vuint32</a>*)0x04000210)</td></tr>
<tr class="memdesc:a5a450d6e80fa90a8cb2ee169283a5602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Enable Register.  <a href="#a5a450d6e80fa90a8cb2ee169283a5602">More...</a><br /></td></tr>
<tr class="separator:a5a450d6e80fa90a8cb2ee169283a5602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fbc5cceda01e15f1aea1af8ea0b4d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a12fbc5cceda01e15f1aea1af8ea0b4d8">REG_IF</a>&#160;&#160;&#160;(*(<a class="el" href="ndstypes_8h.html#a96af5eb8fa163916779f30ebbc2102da">vuint32</a>*)0x04000214)</td></tr>
<tr class="memdesc:a12fbc5cceda01e15f1aea1af8ea0b4d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Flag Register.  <a href="#a12fbc5cceda01e15f1aea1af8ea0b4d8">More...</a><br /></td></tr>
<tr class="separator:a12fbc5cceda01e15f1aea1af8ea0b4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e332bfbbf45f69c10d8cb4113140fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#ab2e332bfbbf45f69c10d8cb4113140fd">REG_IME</a>&#160;&#160;&#160;(*(<a class="el" href="ndstypes_8h.html#a96af5eb8fa163916779f30ebbc2102da">vuint32</a>*)0x04000208)</td></tr>
<tr class="memdesc:ab2e332bfbbf45f69c10d8cb4113140fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Master Enable Register.  <a href="#ab2e332bfbbf45f69c10d8cb4113140fd">More...</a><br /></td></tr>
<tr class="separator:ab2e332bfbbf45f69c10d8cb4113140fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aec8df54bf4a5b1824b4964cc3b0bda48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#aec8df54bf4a5b1824b4964cc3b0bda48">irqClear</a> (<a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> irq)</td></tr>
<tr class="memdesc:aec8df54bf4a5b1824b4964cc3b0bda48"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove the handler associated with the interrupt mask irq.  <a href="#aec8df54bf4a5b1824b4964cc3b0bda48">More...</a><br /></td></tr>
<tr class="separator:aec8df54bf4a5b1824b4964cc3b0bda48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317d24b83643d61915ad93a8bc63ed07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a317d24b83643d61915ad93a8bc63ed07">irqDisable</a> (<a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> irq)</td></tr>
<tr class="memdesc:a317d24b83643d61915ad93a8bc63ed07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prevent the given interrupt from occuring.  <a href="#a317d24b83643d61915ad93a8bc63ed07">More...</a><br /></td></tr>
<tr class="separator:a317d24b83643d61915ad93a8bc63ed07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5906b6a5b438e991f62d909c26efb720"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a5906b6a5b438e991f62d909c26efb720">irqEnable</a> (<a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> irq)</td></tr>
<tr class="memdesc:a5906b6a5b438e991f62d909c26efb720"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow the given interrupt to occur.  <a href="#a5906b6a5b438e991f62d909c26efb720">More...</a><br /></td></tr>
<tr class="separator:a5906b6a5b438e991f62d909c26efb720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af760368da29d076e9c0579e131ee9c3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#af760368da29d076e9c0579e131ee9c3a">irqInit</a> ()</td></tr>
<tr class="memdesc:af760368da29d076e9c0579e131ee9c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the libnds interrupt system.  <a href="#af760368da29d076e9c0579e131ee9c3a">More...</a><br /></td></tr>
<tr class="separator:af760368da29d076e9c0579e131ee9c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778babb5db233a9c0ca45eed95e5eb00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a778babb5db233a9c0ca45eed95e5eb00">irqInitHandler</a> (<a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a> handler)</td></tr>
<tr class="memdesc:a778babb5db233a9c0ca45eed95e5eb00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Install a user interrupt dispatcher.  <a href="#a778babb5db233a9c0ca45eed95e5eb00">More...</a><br /></td></tr>
<tr class="separator:a778babb5db233a9c0ca45eed95e5eb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f44fd26047eb42fc1113df6cece38b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a1f44fd26047eb42fc1113df6cece38b3">irqSet</a> (<a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> irq, <a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a> handler)</td></tr>
<tr class="memdesc:a1f44fd26047eb42fc1113df6cece38b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a handler for the given interrupt mask.  <a href="#a1f44fd26047eb42fc1113df6cece38b3">More...</a><br /></td></tr>
<tr class="separator:a1f44fd26047eb42fc1113df6cece38b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a4509c58c5c055289f7afc0a604b4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#ab5a4509c58c5c055289f7afc0a604b4b">setPowerButtonCB</a> (<a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a> CB)</td></tr>
<tr class="memdesc:ab5a4509c58c5c055289f7afc0a604b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">set callback for DSi Powerbutton press  <a href="#ab5a4509c58c5c055289f7afc0a604b4b">More...</a><br /></td></tr>
<tr class="separator:ab5a4509c58c5c055289f7afc0a604b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45a05d9be5ec91316286726bdee338a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#ad45a05d9be5ec91316286726bdee338a">swiIntrWait</a> (<a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> waitForSet, <a class="el" href="ndstypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> flags)</td></tr>
<tr class="memdesc:ad45a05d9be5ec91316286726bdee338a"><td class="mdescLeft">&#160;</td><td class="mdescRight">wait for interrupt(s) to occur  <a href="#ad45a05d9be5ec91316286726bdee338a">More...</a><br /></td></tr>
<tr class="separator:ad45a05d9be5ec91316286726bdee338a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8361fc4819e3f39d187dc5c29c279a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupts_8h.html#a1e8361fc4819e3f39d187dc5c29c279a">swiWaitForVBlank</a> (void)</td></tr>
<tr class="memdesc:a1e8361fc4819e3f39d187dc5c29c279a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for vblank interrupt.  <a href="#a1e8361fc4819e3f39d187dc5c29c279a">More...</a><br /></td></tr>
<tr class="separator:a1e8361fc4819e3f39d187dc5c29c279a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>nds interrupt support. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab2d17ce773b979ee5d727beb7410a649"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IRQ_TIMER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;(1 &lt;&lt; ((n) + 3))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the mask for a given timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>the timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the bitmask. </dd></dl>

</div>
</div>
<a class="anchor" id="a5a450d6e80fa90a8cb2ee169283a5602"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG_IE&#160;&#160;&#160;(*(<a class="el" href="ndstypes_8h.html#a96af5eb8fa163916779f30ebbc2102da">vuint32</a>*)0x04000210)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Enable Register. </p>
<p>This is the activation mask for the internal interrupts. Unless the corresponding bit is set, the IRQ will be masked out. </p>

</div>
</div>
<a class="anchor" id="a12fbc5cceda01e15f1aea1af8ea0b4d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG_IF&#160;&#160;&#160;(*(<a class="el" href="ndstypes_8h.html#a96af5eb8fa163916779f30ebbc2102da">vuint32</a>*)0x04000214)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Flag Register. </p>
<p>Since there is only one hardware interrupt vector, the IF register contains flags to indicate when a particular of interrupt has occured. To acknowledge processing interrupts, set IF to the value of the interrupt handled. </p>

</div>
</div>
<a class="anchor" id="ab2e332bfbbf45f69c10d8cb4113140fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG_IME&#160;&#160;&#160;(*(<a class="el" href="ndstypes_8h.html#a96af5eb8fa163916779f30ebbc2102da">vuint32</a>*)0x04000208)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Master Enable Register. </p>
<p>When bit 0 is clear, all interrupts are masked. When it is 1, interrupts will occur if not masked out in REG_IE. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ad83ae7f8ca353ce4c46f1ff07b9ed816"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="interrupts_8h.html#ad83ae7f8ca353ce4c46f1ff07b9ed816">IME_VALUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>values allowed for REG_IME </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ad83ae7f8ca353ce4c46f1ff07b9ed816a5a39fea57ae149d795e49dc4040244ae"></a>IME_DISABLE&#160;</td><td class="fielddoc">
<p>Disable all interrupts. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ad83ae7f8ca353ce4c46f1ff07b9ed816a4d8d004344893294988e08c44b6a6146"></a>IME_ENABLE&#160;</td><td class="fielddoc">
<p>Enable all interrupts not masked out in REG_IE </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ae384b89225fb3517bba35d3dc790c716"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="interrupts_8h.html#ae384b89225fb3517bba35d3dc790c716">IRQ_MASKS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>values allowed for REG_IE and REG_IF </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a38af5b8afc08fd0c0423b74f1e944ff9"></a>IRQ_VBLANK&#160;</td><td class="fielddoc">
<p>vertical blank interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a73559ec99cf954f96f51e6cfd2a7cfc3"></a>IRQ_HBLANK&#160;</td><td class="fielddoc">
<p>horizontal blank interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716ae966b54fa824aa30270c82ef8bfd219d"></a>IRQ_VCOUNT&#160;</td><td class="fielddoc">
<p>vcount match interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a2618469a68d84d93cbc690683d166cfd"></a>IRQ_TIMER0&#160;</td><td class="fielddoc">
<p>timer 0 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a8c39cc59e699744d2ec759fe14ff4e98"></a>IRQ_TIMER1&#160;</td><td class="fielddoc">
<p>timer 1 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a0e01d49d80b56430de0f28a700a1cf40"></a>IRQ_TIMER2&#160;</td><td class="fielddoc">
<p>timer 2 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716ab7ac5fa7fe4019c3317ea9d24b1eb60a"></a>IRQ_TIMER3&#160;</td><td class="fielddoc">
<p>timer 3 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716af34505032fe012975780a35f64355470"></a>IRQ_NETWORK&#160;</td><td class="fielddoc">
<p>serial interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a778ae499a96f29180be36a9ebec2ae09"></a>IRQ_DMA0&#160;</td><td class="fielddoc">
<p>DMA 0 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716afe415cd0d25581a7a87f0b83b6364922"></a>IRQ_DMA1&#160;</td><td class="fielddoc">
<p>DMA 1 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716af1d23f92d4fda041b6a1fb394919cb2a"></a>IRQ_DMA2&#160;</td><td class="fielddoc">
<p>DMA 2 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716ab9c23849f872bcfcff9a96e7000ed381"></a>IRQ_DMA3&#160;</td><td class="fielddoc">
<p>DMA 3 interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716ae1048d443caabb2e0d320d6c62e85f2f"></a>IRQ_KEYS&#160;</td><td class="fielddoc">
<p>Keypad interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a04010aecdc6bc20aa4d66ef338cd32df"></a>IRQ_CART&#160;</td><td class="fielddoc">
<p>GBA cartridge interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716ab6c94f7a619bdbcb0fc28eb937653892"></a>IRQ_IPC_SYNC&#160;</td><td class="fielddoc">
<p>IPC sync interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716af691bf5350ba1e47b1af09a2aa77e76e"></a>IRQ_FIFO_EMPTY&#160;</td><td class="fielddoc">
<p>Send FIFO empty interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716ac21e23500b3cf86ea779a61a3c0c4047"></a>IRQ_FIFO_NOT_EMPTY&#160;</td><td class="fielddoc">
<p>Receive FIFO not empty interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716aae33e164f73978297f6db5e79ee614ea"></a>IRQ_CARD&#160;</td><td class="fielddoc">
<p>interrupt mask DS Card Slot </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a0e2f6c99fc3416c4dc8e87b9fbfd8e51"></a>IRQ_CARD_LINE&#160;</td><td class="fielddoc">
<p>interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716af991b680925cad4715dd205e55b237bb"></a>IRQ_GEOMETRY_FIFO&#160;</td><td class="fielddoc">
<p>geometry FIFO interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716abab94d8bf11855d555bcab4bf662f6ea"></a>IRQ_LID&#160;</td><td class="fielddoc">
<p>interrupt mask DS hinge </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a26cb745025e93862b2a6e5a60678f991"></a>IRQ_SPI&#160;</td><td class="fielddoc">
<p>SPI interrupt mask </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716acd1d8a84b22d157b505a49fc15848852"></a>IRQ_WIFI&#160;</td><td class="fielddoc">
<p>WIFI interrupt mask (ARM7) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae384b89225fb3517bba35d3dc790c716a6cafc6b224e94027615b7a52c6c6e0ea"></a>IRQ_ALL&#160;</td><td class="fielddoc">
<p>'mask' for all interrupt </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a0880b399f86662372e73d179800777ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="interrupts_8h.html#a0880b399f86662372e73d179800777ab">IRQ_MASKSAUX</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>values allowed for REG_AUXIE and REG_AUXIF </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a0880b399f86662372e73d179800777abace8abed06edfb91f535e3194808b3a60"></a>IRQ_I2C&#160;</td><td class="fielddoc">
<p>I2C interrupt mask (DSi ARM7) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0880b399f86662372e73d179800777aba1c2531aeeab338388ea4c0f34224328d"></a>IRQ_SDMMC&#160;</td><td class="fielddoc">
<p>Sdmmc interrupt mask (DSi ARM7) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aec8df54bf4a5b1824b4964cc3b0bda48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">irqClear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>irq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove the handler associated with the interrupt mask irq. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irq</td><td>Mask associated with the interrupt. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a317d24b83643d61915ad93a8bc63ed07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">irqDisable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>irq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prevent the given interrupt from occuring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irq</td><td>The set of interrupt masks to disable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Specify multiple interrupts to disable by ORing several IRQ_MASKS. </dd></dl>

</div>
</div>
<a class="anchor" id="a5906b6a5b438e991f62d909c26efb720"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">irqEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>irq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allow the given interrupt to occur. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irq</td><td>The set of interrupt masks to enable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Specify multiple interrupts to enable by ORing several IRQ_MASKS. </dd></dl>

</div>
</div>
<a class="anchor" id="af760368da29d076e9c0579e131ee9c3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">irqInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the libnds interrupt system. </p>
<p>This function is called internally (prior to main()) to set up irqs on the ARM9. It must be called on the ARM7 prior to installing irq handlers. </p>

</div>
</div>
<a class="anchor" id="a778babb5db233a9c0ca45eed95e5eb00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">irqInitHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a>&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Install a user interrupt dispatcher. </p>
<p>This function installs the main interrupt function, all interrupts are serviced through this routine. For most purposes the libnds interrupt dispacther should be used in preference to user code unless you know <em>exactly</em> what you're doing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Address of the function to use as an interrupt dispatcher </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the function <em>must</em> be ARM code </dd></dl>

</div>
</div>
<a class="anchor" id="a1f44fd26047eb42fc1113df6cece38b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">irqSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a>&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a handler for the given interrupt mask. </p>
<p>Specify the handler to use for the given interrupt. This only works with the default interrupt handler, do not mix the use of this routine with a user-installed IRQ handler. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irq</td><td>Mask associated with the interrupt. </td></tr>
    <tr><td class="paramname">handler</td><td>Address of the function to use as an interrupt service routine </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>When any handler specifies using IRQ_VBLANK or IRQ_HBLANK, DISP_SR is automatically updated to include the corresponding DISP_VBLANK_IRQ or DISP_HBLANK_IRQ.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Only one IRQ_MASK can be specified with this function. </dd></dl>

</div>
</div>
<a class="anchor" id="ab5a4509c58c5c055289f7afc0a604b4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a> setPowerButtonCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#a65983c92bfd6f87a74927ad398d4b271">VoidFn</a>&#160;</td>
          <td class="paramname"><em>CB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set callback for DSi Powerbutton press </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CB</td><td>function to call when power button pressed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previously set callback </dd></dl>

</div>
</div>
<a class="anchor" id="ad45a05d9be5ec91316286726bdee338a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">swiIntrWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>waitForSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wait for interrupt(s) to occur </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">waitForSet</td><td>0: Return if the interrupt has already occured 1: Wait until the interrupt has been set since the call </td></tr>
    <tr><td class="paramname">flags</td><td>interrupt mask to wait for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1e8361fc4819e3f39d187dc5c29c279a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">swiWaitForVBlank </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for vblank interrupt. </p>
<p>Waits for a vertical blank interrupt</p>
<dl class="section note"><dt>Note</dt><dd>Identical to calling swiIntrWait(1, 1) </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 27 2020 02:30:40 for libnds by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
